=== TensorFlow JNI Compilation Script for ARM64 with JDK17 ===
Starting compilation process...

>>> Checking prerequisites...
>>> Prerequisites check passed!
>>> Java version: openjdk version "17.0.15" 2025-04-15
>>> Bazel version: bazel 6.4.0
>>> Using JAVA_HOME: /usr/lib/jvm/java-17-openjdk-arm64
>>> Cloning TensorFlow repository for JDK17 build...
Cloning into 'tensorflow_jdk17'...
Updating files:  67% (23255/34570)Updating files:  68% (23508/34570)Updating files:  69% (23854/34570)Updating files:  70% (24199/34570)Updating files:  71% (24545/34570)Updating files:  72% (24891/34570)Updating files:  73% (25237/34570)Updating files:  74% (25582/34570)Updating files:  75% (25928/34570)Updating files:  76% (26274/34570)Updating files:  77% (26619/34570)Updating files:  78% (26965/34570)Updating files:  79% (27311/34570)Updating files:  80% (27656/34570)Updating files:  81% (28002/34570)Updating files:  82% (28348/34570)Updating files:  83% (28694/34570)Updating files:  84% (29039/34570)Updating files:  85% (29385/34570)Updating files:  86% (29731/34570)Updating files:  87% (30076/34570)Updating files:  88% (30422/34570)Updating files:  89% (30768/34570)Updating files:  90% (31113/34570)Updating files:  91% (31459/34570)Updating files:  92% (31805/34570)Updating files:  93% (32151/34570)Updating files:  94% (32496/34570)Updating files:  95% (32842/34570)Updating files:  96% (33188/34570)Updating files:  97% (33533/34570)Updating files:  98% (33879/34570)Updating files:  99% (34225/34570)Updating files: 100% (34570/34570)Updating files: 100% (34570/34570), done.
>>> Checking out TensorFlow v2.13.0...
Note: switching to 'v2.13.0'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by switching back to a branch.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -c with the switch command. Example:

  git switch -c <new-branch-name>

Or undo this operation with:

  git switch -

Turn off this advice by setting config variable advice.detachedHead to false

HEAD is now at 1cb1a030a62 updating release notes with security fixes (#61119)
>>> Applying ARM64 compilation fixes...
>>> Adding cstdint header to tensorflow_jni.cc
>>> Adding cstdint header to tensor_jni.cc
>>> Adding cstdint header to session_jni.cc
>>> Adding cstdint and cstddef headers to cache.h
>>> Adding cstdint header to denormal.cc
>>> Applying JDK17-specific configurations...
>>> Configuring TensorFlow build for JDK17...
You have bazel 6.4.0 installed.
Please specify the location of python. [Default is /usr/bin/python3]: 

Found possible Python library paths:
  /usr/lib/python3/dist-packages
  /usr/local/lib/python3.12/dist-packages
Please input the desired Python library path to use.  Default is [/usr/lib/python3/dist-packages]
Do you wish to build TensorFlow with ROCm support? [y/N]: No ROCm support will be enabled for TensorFlow.

Do you wish to build TensorFlow with CUDA support? [y/N]: No CUDA support will be enabled for TensorFlow.

Do you wish to download a fresh release of clang? (Experimental) [y/N]: Clang will not be downloaded.

Please specify optimization flags to use during compilation when bazel option "--config=opt" is specified [Default is -Wno-sign-compare]: 

Would you like to interactively configure ./WORKSPACE for Android builds? [y/N]: Not configuring the WORKSPACE for Android builds.

Preconfigured Bazel build configs. You can use any of the below by adding "--config=<>" to your build command. See .bazelrc for more details.
	--config=mkl         	# Build with MKL support.
	--config=mkl_aarch64 	# Build with oneDNN and Compute Library for the Arm Architecture (ACL).
	--config=monolithic  	# Config for mostly static monolithic build.
	--config=numa        	# Build with NUMA support.
	--config=dynamic_kernels	# (Experimental) Build kernels into separate shared objects.
	--config=v1          	# Build with TensorFlow 1 API instead of TF 2 API.
Preconfigured Bazel build configs to DISABLE default on features:
	--config=nogcp       	# Disable GCP support.
	--config=nonccl      	# Disable NVIDIA NCCL support.
>>> Building TensorFlow JNI libraries for JDK17 (this will take several hours)...
>>> Building Java JAR and JNI library...
Starting local Bazel server and connecting to it...
INFO: Options provided by the client:
  Inherited 'common' options: --isatty=0 --terminal_columns=80
INFO: Reading rc options for 'build' from /home/ubuntu/go_page_size/java/tf_0714/jdk17/tensorflow_jdk17/.bazelrc:
  Inherited 'common' options: --experimental_repo_remote_exec
INFO: Reading rc options for 'build' from /home/ubuntu/go_page_size/java/tf_0714/jdk17/tensorflow_jdk17/.bazelrc:
  'build' options: --define framework_shared_object=true --define tsl_protobuf_header_only=true --define=use_fast_cpp_protos=true --define=allow_oversize_protos=true --spawn_strategy=standalone -c opt --announce_rc --define=grpc_no_ares=true --noincompatible_remove_legacy_whole_archive --enable_platform_specific_config --define=with_xla_support=true --config=short_logs --config=v2 --define=no_aws_support=true --define=no_hdfs_support=true --experimental_cc_shared_library --experimental_link_static_libraries_once=false --incompatible_enforce_config_setting_visibility
INFO: Reading rc options for 'build' from /home/ubuntu/go_page_size/java/tf_0714/jdk17/tensorflow_jdk17/.tf_configure.bazelrc:
  'build' options: --action_env PYTHON_BIN_PATH=/usr/bin/python3 --action_env PYTHON_LIB_PATH=/usr/lib/python3/dist-packages --python_path=/usr/bin/python3
INFO: Reading rc options for 'build' from /home/ubuntu/go_page_size/java/tf_0714/jdk17/tensorflow_jdk17/.bazelrc:
  'build' options: --deleted_packages=tensorflow/compiler/mlir/tfrt,tensorflow/compiler/mlir/tfrt/benchmarks,tensorflow/compiler/mlir/tfrt/jit/python_binding,tensorflow/compiler/mlir/tfrt/jit/transforms,tensorflow/compiler/mlir/tfrt/python_tests,tensorflow/compiler/mlir/tfrt/tests,tensorflow/compiler/mlir/tfrt/tests/ir,tensorflow/compiler/mlir/tfrt/tests/analysis,tensorflow/compiler/mlir/tfrt/tests/jit,tensorflow/compiler/mlir/tfrt/tests/lhlo_to_tfrt,tensorflow/compiler/mlir/tfrt/tests/lhlo_to_jitrt,tensorflow/compiler/mlir/tfrt/tests/tf_to_corert,tensorflow/compiler/mlir/tfrt/tests/tf_to_tfrt_data,tensorflow/compiler/mlir/tfrt/tests/saved_model,tensorflow/compiler/mlir/tfrt/transforms/lhlo_gpu_to_tfrt_gpu,tensorflow/core/runtime_fallback,tensorflow/core/runtime_fallback/conversion,tensorflow/core/runtime_fallback/kernel,tensorflow/core/runtime_fallback/opdefs,tensorflow/core/runtime_fallback/runtime,tensorflow/core/runtime_fallback/util,tensorflow/core/tfrt/eager,tensorflow/core/tfrt/eager/backends/cpu,tensorflow/core/tfrt/eager/backends/gpu,tensorflow/core/tfrt/eager/core_runtime,tensorflow/core/tfrt/eager/cpp_tests/core_runtime,tensorflow/core/tfrt/gpu,tensorflow/core/tfrt/run_handler_thread_pool,tensorflow/core/tfrt/runtime,tensorflow/core/tfrt/saved_model,tensorflow/core/tfrt/graph_executor,tensorflow/core/tfrt/saved_model/tests,tensorflow/core/tfrt/tpu,tensorflow/core/tfrt/utils,tensorflow/core/tfrt/utils/debug
INFO: Found applicable config definition build:short_logs in file /home/ubuntu/go_page_size/java/tf_0714/jdk17/tensorflow_jdk17/.bazelrc: --output_filter=DONT_MATCH_ANYTHING
INFO: Found applicable config definition build:v2 in file /home/ubuntu/go_page_size/java/tf_0714/jdk17/tensorflow_jdk17/.bazelrc: --define=tf_api_version=2 --action_env=TF2_BEHAVIOR=1
INFO: Found applicable config definition build:opt in file /home/ubuntu/go_page_size/java/tf_0714/jdk17/tensorflow_jdk17/.tf_configure.bazelrc: --copt=-Wno-sign-compare --host_copt=-Wno-sign-compare
INFO: Found applicable config definition build:linux in file /home/ubuntu/go_page_size/java/tf_0714/jdk17/tensorflow_jdk17/.bazelrc: --define=build_with_onednn_v2=true --host_copt=-w --copt=-Wno-all --copt=-Wno-extra --copt=-Wno-deprecated --copt=-Wno-deprecated-declarations --copt=-Wno-ignored-attributes --copt=-Wno-array-bounds --copt=-Wunused-result --copt=-Werror=unused-result --copt=-Wswitch --copt=-Werror=switch --copt=-Wno-error=unused-but-set-variable --define=PREFIX=/usr --define=LIBDIR=$(PREFIX)/lib --define=INCLUDEDIR=$(PREFIX)/include --define=PROTOBUF_INCLUDE_PATH=$(PREFIX)/include --cxxopt=-std=c++17 --host_cxxopt=-std=c++17 --config=dynamic_kernels --experimental_guard_against_concurrent_changes
INFO: Found applicable config definition build:dynamic_kernels in file /home/ubuntu/go_page_size/java/tf_0714/jdk17/tensorflow_jdk17/.bazelrc: --define=dynamic_loaded_kernels=true --copt=-DAUTOLOAD_DYNAMIC_KERNELS
Loading: 
Loading: 
Loading: 
Loading: 
Loading: 
Loading: 0 packages loaded
Analyzing: 2 targets (1 packages loaded, 0 targets configured)
Analyzing: 2 targets (42 packages loaded, 17 targets configured)
Analyzing: 2 targets (42 packages loaded, 17 targets configured)
Analyzing: 2 targets (87 packages loaded, 3099 targets configured)
Analyzing: 2 targets (259 packages loaded, 6905 targets configured)
Analyzing: 2 targets (354 packages loaded, 21938 targets configured)
Analyzing: 2 targets (358 packages loaded, 25466 targets configured)
INFO: Analyzed 2 targets (361 packages loaded, 26278 targets configured).
 checking cached actions
INFO: Found 2 targets...
[0 / 1,187] [Prepa] Writing file tensorflow/java/libtensorflow_jni.so-2.params
[456 / 11,411] Compiling src/google/protobuf/stubs/int128.cc [for tool]; 0s local ... (193 actions, 189 running)
[750 / 11,481] Compiling src/google/protobuf/stubs/strutil.cc [for tool]; 1s local ... (189 actions, 188 running)
[1,011 / 11,531] Compiling src/compiler/python_generator.cc [for tool]; 2s local ... (192 actions, 191 running)
[1,358 / 11,531] Compiling src/google/protobuf/compiler/command_line_interface.cc [for tool]; 3s local ... (191 actions, 190 running)
[1,879 / 11,531] Compiling src/google/protobuf/descriptor.cc [for tool]; 4s local ... (192 actions, 191 running)
[2,342 / 11,531] Compiling src/google/protobuf/descriptor.cc [for tool]; 5s local ... (192 actions, 191 running)
[2,720 / 11,531] Compiling src/google/protobuf/descriptor.cc [for tool]; 6s local ... (191 actions, 190 running)
[2,967 / 11,531] Compiling src/google/protobuf/descriptor.cc [for tool]; 7s local ... (192 actions, 191 running)
[3,165 / 11,531] Compiling src/google/protobuf/descriptor.cc [for tool]; 8s local ... (190 actions, 188 running)
[3,360 / 11,531] Compiling mlir/lib/ExecutionEngine/SparseTensorRuntime.cpp; 9s local ... (191 actions, 189 running)
[3,535 / 11,531] Compiling mlir/lib/ExecutionEngine/SparseTensorRuntime.cpp; 10s local ... (192 actions, 191 running)
[3,837 / 11,531] Compiling mlir/lib/ExecutionEngine/SparseTensorRuntime.cpp; 11s local ... (163 actions, 161 running)
[4,280 / 11,532] Compiling mlir/lib/ExecutionEngine/SparseTensorRuntime.cpp; 12s local ... (192 actions, 191 running)
[4,483 / 11,532] Compiling mlir/lib/ExecutionEngine/SparseTensorRuntime.cpp; 13s local ... (191 actions, 190 running)
[4,576 / 11,532] Compiling mlir/lib/ExecutionEngine/SparseTensorRuntime.cpp; 14s local ... (185 actions, 184 running)
[4,659 / 11,532] Compiling mlir/lib/ExecutionEngine/SparseTensorRuntime.cpp; 15s local ... (192 actions, 191 running)
[4,731 / 11,532] Compiling mlir/lib/ExecutionEngine/SparseTensorRuntime.cpp; 16s local ... (192 actions, 191 running)
[4,785 / 11,532] Compiling mlir/lib/ExecutionEngine/SparseTensorRuntime.cpp; 17s local ... (192 actions, 191 running)
[4,865 / 11,532] Compiling mlir/lib/ExecutionEngine/SparseTensorRuntime.cpp; 18s local ... (192 actions, 191 running)
[4,909 / 11,532] Compiling mlir/lib/ExecutionEngine/SparseTensorRuntime.cpp; 19s local ... (191 actions, 190 running)
[4,973 / 11,532] Compiling mlir/lib/ExecutionEngine/SparseTensorRuntime.cpp; 20s local ... (192 actions, 190 running)
[5,018 / 11,532] Compiling mlir/lib/ExecutionEngine/SparseTensorRuntime.cpp; 21s local ... (192 actions, 191 running)
[5,066 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 21s local ... (192 actions, 191 running)
[5,116 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 22s local ... (189 actions, 188 running)
[5,157 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 23s local ... (192 actions, 191 running)
[5,190 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 24s local ... (192 actions, 191 running)
[5,232 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 25s local ... (192 actions, 191 running)
[5,275 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 26s local ... (192 actions, 191 running)
[5,307 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 27s local ... (192 actions, 191 running)
[5,347 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 28s local ... (192 actions, 191 running)
[5,396 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 29s local ... (192 actions, 191 running)
[5,433 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 30s local ... (192 actions, 191 running)
[5,477 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 31s local ... (192 actions, 191 running)
[5,523 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 32s local ... (192 actions, 191 running)
[5,563 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 33s local ... (192 actions, 191 running)
[5,606 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 34s local ... (192 actions, 191 running)
[5,664 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 35s local ... (190 actions, 189 running)
[5,723 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 36s local ... (192 actions, 191 running)
[5,773 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 37s local ... (192 actions, 191 running)
[5,822 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 38s local ... (192 actions, 191 running)
[5,870 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 39s local ... (192 actions, 191 running)
[5,913 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 40s local ... (192 actions, 191 running)
[5,965 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 41s local ... (192 actions, 191 running)
[6,007 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 42s local ... (192 actions, 191 running)
[6,058 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 43s local ... (192 actions, 191 running)
[6,104 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 44s local ... (191 actions, 190 running)
[6,161 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 45s local ... (192 actions, 191 running)
[6,217 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 46s local ... (192 actions, 191 running)
[6,263 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 47s local ... (192 actions, 191 running)
[6,305 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 48s local ... (192 actions, 191 running)
[6,357 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 49s local ... (192 actions, 191 running)
[6,400 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 50s local ... (192 actions, 191 running)
[6,447 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 51s local ... (192 actions, 191 running)
[6,494 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 52s local ... (192 actions, 190 running)
[6,546 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 53s local ... (192 actions, 191 running)
[6,596 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 54s local ... (192 actions, 191 running)
[6,636 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 55s local ... (192 actions running)
[6,673 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 56s local ... (192 actions running)
[6,707 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 57s local ... (192 actions, 191 running)
[6,752 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 58s local ... (192 actions, 191 running)
[6,801 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 59s local ... (192 actions, 191 running)
[6,841 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 60s local ... (191 actions running)
[6,892 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 61s local ... (192 actions, 191 running)
[6,928 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 62s local ... (192 actions, 191 running)
[6,967 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 63s local ... (192 actions, 191 running)
[7,047 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 64s local ... (192 actions, 191 running)
[7,216 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 65s local ... (192 actions, 191 running)
[7,540 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 66s local ... (192 actions, 191 running)
[7,964 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 67s local ... (192 actions, 191 running)
[8,244 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 68s local ... (191 actions, 190 running)
[8,473 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 69s local ... (192 actions, 191 running)
[8,517 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 70s local ... (192 actions, 191 running)
[8,556 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 71s local ... (192 actions, 191 running)
[8,607 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 72s local ... (192 actions, 191 running)
[8,658 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 73s local ... (191 actions, 190 running)
[8,708 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 74s local ... (192 actions, 190 running)
[8,758 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 75s local ... (192 actions, 191 running)
[8,816 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 76s local ... (192 actions, 191 running)
[8,881 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 77s local ... (192 actions, 191 running)
[8,931 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 78s local ... (192 actions, 191 running)
[8,983 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 79s local ... (192 actions, 191 running)
[9,024 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 81s local ... (192 actions, 191 running)
[9,062 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 82s local ... (192 actions, 191 running)
[9,111 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 83s local ... (189 actions, 188 running)
[9,147 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 84s local ... (192 actions, 191 running)
[9,211 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 85s local ... (192 actions, 191 running)
[9,255 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 86s local ... (192 actions, 191 running)
[9,306 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 87s local ... (192 actions, 191 running)
[9,350 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 88s local ... (192 actions, 191 running)
[9,375 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 89s local ... (192 actions, 191 running)
[9,407 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 90s local ... (192 actions, 191 running)
[9,444 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 91s local ... (191 actions, 190 running)
[9,478 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 92s local ... (191 actions, 190 running)
[9,507 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 93s local ... (192 actions, 191 running)
[9,548 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 94s local ... (192 actions, 191 running)
[9,588 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 95s local ... (192 actions, 191 running)
[9,620 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 96s local ... (192 actions running)
[9,647 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 97s local ... (192 actions running)
[9,688 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 98s local ... (192 actions, 191 running)
[9,727 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 99s local ... (192 actions running)
[9,760 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 100s local ... (192 actions, 191 running)
[9,803 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 101s local ... (192 actions, 191 running)
[9,843 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 102s local ... (192 actions, 191 running)
[9,875 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 103s local ... (192 actions, 191 running)
[9,919 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 104s local ... (192 actions, 191 running)
[9,954 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 105s local ... (192 actions, 191 running)
[9,980 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 107s local ... (191 actions, 190 running)
[10,015 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 108s local ... (191 actions, 190 running)
[10,047 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 109s local ... (192 actions, 191 running)
[10,081 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 110s local ... (192 actions, 191 running)
[10,104 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 111s local ... (192 actions, 191 running)
[10,121 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 112s local ... (192 actions, 191 running)
[10,140 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 113s local ... (192 actions, 191 running)
[10,165 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 114s local ... (192 actions, 190 running)
[10,185 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 115s local ... (192 actions, 191 running)
[10,206 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 116s local ... (192 actions, 191 running)
[10,240 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 117s local ... (160 actions running)
[10,277 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 118s local ... (123 actions running)
[10,305 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 119s local ... (95 actions running)
[10,334 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 121s local ... (66 actions running)
[10,344 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 122s local ... (57 actions running)
[10,364 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 124s local ... (192 actions, 191 running)
[10,369 / 11,532] Compiling tensorflow/compiler/xla/service/cpu/runtime_matmul.cc; 125s local ... (192 actions, 191 running)
[10,376 / 11,532] Compiling tensorflow/core/kernels/training_ops.cc; 75s local ... (192 actions, 191 running)
[10,425 / 11,532] Compiling tensorflow/core/kernels/training_ops.cc; 76s local ... (192 actions, 191 running)
[10,444 / 11,532] Compiling tensorflow/core/kernels/training_ops.cc; 77s local ... (191 actions, 190 running)
[10,462 / 11,532] Compiling tensorflow/core/kernels/training_ops.cc; 78s local ... (192 actions, 191 running)
[10,503 / 11,532] Compiling tensorflow/core/kernels/training_ops.cc; 79s local ... (192 actions, 191 running)
[10,534 / 11,532] Compiling tensorflow/core/kernels/training_ops.cc; 80s local ... (192 actions, 191 running)
[10,558 / 11,532] Compiling tensorflow/core/kernels/training_ops.cc; 81s local ... (192 actions, 191 running)
[10,580 / 11,532] Compiling tensorflow/core/kernels/training_ops.cc; 82s local ... (192 actions, 191 running)
[10,592 / 11,532] Compiling tensorflow/core/kernels/training_ops.cc; 84s local ... (192 actions running)
[10,616 / 11,532] Compiling mlir/lib/Dialect/LLVMIR/IR/LLVMDialect.cpp; 56s local ... (192 actions, 191 running)
[10,638 / 11,532] Compiling mlir/lib/Dialect/LLVMIR/IR/LLVMDialect.cpp; 57s local ... (192 actions running)
[10,669 / 11,532] Compiling mlir/lib/Dialect/LLVMIR/IR/LLVMDialect.cpp; 58s local ... (192 actions, 191 running)
[10,697 / 11,532] Compiling mlir/lib/Dialect/LLVMIR/IR/LLVMDialect.cpp; 59s local ... (192 actions, 191 running)
[10,728 / 11,532] Compiling mlir/lib/Dialect/LLVMIR/IR/LLVMDialect.cpp; 60s local ... (191 actions, 190 running)
[10,749 / 11,532] Compiling mlir/lib/Dialect/LLVMIR/IR/LLVMDialect.cpp; 61s local ... (192 actions, 190 running)
[10,767 / 11,532] Compiling mlir/lib/Dialect/LLVMIR/IR/LLVMDialect.cpp; 62s local ... (189 actions, 188 running)
[10,794 / 11,532] Compiling mlir/lib/Dialect/LLVMIR/IR/LLVMDialect.cpp; 63s local ... (192 actions, 191 running)
[10,816 / 11,532] Compiling mlir/lib/Dialect/LLVMIR/IR/LLVMDialect.cpp; 64s local ... (192 actions, 191 running)
[10,847 / 11,532] Compiling mlir/lib/Dialect/LLVMIR/IR/LLVMDialect.cpp; 65s local ... (192 actions, 190 running)
[10,863 / 11,532] Compiling mlir/lib/Dialect/LLVMIR/IR/LLVMDialect.cpp; 66s local ... (192 actions, 191 running)
[10,877 / 11,532] Compiling mlir/lib/Dialect/LLVMIR/IR/LLVMDialect.cpp; 67s local ... (192 actions, 191 running)
[10,899 / 11,532] Compiling mlir/lib/Dialect/LLVMIR/IR/LLVMDialect.cpp; 68s local ... (192 actions, 191 running)
[10,915 / 11,532] Compiling mlir/lib/Dialect/LLVMIR/IR/LLVMDialect.cpp; 69s local ... (192 actions, 191 running)
[10,942 / 11,532] Compiling mlir/lib/Dialect/LLVMIR/IR/LLVMDialect.cpp; 70s local ... (190 actions, 189 running)
[10,957 / 11,532] Compiling mlir/lib/Dialect/LLVMIR/IR/LLVMDialect.cpp; 71s local ... (192 actions, 191 running)
[10,973 / 11,532] Compiling mlir/lib/Dialect/LLVMIR/IR/LLVMDialect.cpp; 72s local ... (192 actions, 191 running)
[10,990 / 11,532] Compiling tensorflow/compiler/xla/mlir_hlo/mhlo/IR/hlo_ops.cc; 53s local ... (191 actions, 190 running)
[11,007 / 11,532] Compiling tensorflow/compiler/xla/mlir_hlo/mhlo/IR/hlo_ops.cc; 54s local ... (192 actions running)
[11,016 / 11,532] Compiling tensorflow/compiler/xla/mlir_hlo/mhlo/IR/hlo_ops.cc; 55s local ... (192 actions, 191 running)
[11,031 / 11,532] Compiling tensorflow/compiler/xla/mlir_hlo/mhlo/IR/hlo_ops.cc; 56s local ... (192 actions running)
[11,044 / 11,532] Compiling tensorflow/compiler/xla/mlir_hlo/mhlo/IR/hlo_ops.cc; 57s local ... (190 actions, 189 running)
[11,059 / 11,532] Compiling tensorflow/compiler/xla/mlir_hlo/mhlo/IR/hlo_ops.cc; 58s local ... (192 actions, 191 running)
[11,076 / 11,532] Compiling tensorflow/compiler/xla/mlir_hlo/mhlo/IR/hlo_ops.cc; 59s local ... (192 actions, 191 running)
[11,097 / 11,532] Compiling tensorflow/compiler/xla/mlir_hlo/mhlo/IR/hlo_ops.cc; 60s local ... (192 actions, 191 running)
[11,109 / 11,532] Compiling tensorflow/compiler/xla/mlir_hlo/mhlo/IR/hlo_ops.cc; 61s local ... (192 actions, 191 running)
[11,130 / 11,532] Compiling tensorflow/compiler/xla/mlir_hlo/mhlo/IR/hlo_ops.cc; 62s local ... (192 actions, 191 running)
[11,149 / 11,532] Compiling tensorflow/compiler/xla/mlir_hlo/mhlo/IR/hlo_ops.cc; 63s local ... (192 actions, 190 running)
[11,164 / 11,532] Compiling tensorflow/compiler/xla/mlir_hlo/mhlo/IR/hlo_ops.cc; 64s local ... (191 actions, 190 running)
[11,173 / 11,532] Compiling tensorflow/compiler/xla/mlir_hlo/mhlo/IR/hlo_ops.cc; 66s local ... (192 actions, 191 running)
[11,185 / 11,532] Compiling tensorflow/compiler/xla/mlir_hlo/mhlo/IR/hlo_ops.cc; 67s local ... (192 actions, 191 running)
[11,198 / 11,532] Compiling tensorflow/compiler/xla/mlir_hlo/mhlo/IR/hlo_ops.cc; 68s local ... (192 actions, 191 running)
[11,207 / 11,532] Compiling tensorflow/compiler/xla/mlir_hlo/mhlo/IR/hlo_ops.cc; 69s local ... (192 actions, 191 running)
[11,220 / 11,532] Compiling tensorflow/compiler/mlir/tensorflow/ir/tf_ops_n_z.cc; 66s local ... (192 actions running)
[11,224 / 11,532] Compiling tensorflow/compiler/mlir/tensorflow/ir/tf_ops_n_z.cc; 67s local ... (192 actions running)
[11,233 / 11,532] Compiling tensorflow/compiler/mlir/tensorflow/ir/tf_ops_n_z.cc; 68s local ... (192 actions running)
[11,244 / 11,532] Compiling tensorflow/compiler/mlir/tensorflow/ir/tf_ops_n_z.cc; 69s local ... (192 actions running)
[11,260 / 11,532] Compiling tensorflow/compiler/mlir/tensorflow/ir/tf_ops_n_z.cc; 70s local ... (192 actions running)
[11,278 / 11,532] Compiling tensorflow/compiler/mlir/tensorflow/ir/tf_ops_n_z.cc; 71s local ... (192 actions, 191 running)
[11,301 / 11,532] Compiling tensorflow/compiler/mlir/tensorflow/ir/tf_ops_n_z.cc; 72s local ... (192 actions, 191 running)
[11,315 / 11,532] Compiling tensorflow/compiler/mlir/tensorflow/ir/tf_ops_n_z.cc; 73s local ... (192 actions, 191 running)
[11,337 / 11,532] Compiling tensorflow/compiler/mlir/tensorflow/ir/tf_ops_n_z.cc; 74s local ... (192 actions, 190 running)
[11,369 / 11,532] Compiling tensorflow/compiler/mlir/tensorflow/ir/tf_ops_n_z.cc; 76s local ... (162 actions running)
[11,383 / 11,532] Compiling tensorflow/compiler/mlir/tensorflow/ir/tf_ops_n_z.cc; 77s local ... (148 actions running)
[11,394 / 11,532] Compiling tensorflow/compiler/mlir/tensorflow/ir/tf_ops_n_z.cc; 78s local ... (137 actions running)
[11,428 / 11,532] Compiling tensorflow/compiler/mlir/tensorflow/ir/tf_ops_n_z.cc; 80s local ... (103 actions running)
[11,446 / 11,532] Compiling tensorflow/compiler/mlir/tensorflow/ir/tf_ops_n_z.cc; 81s local ... (85 actions running)
[11,483 / 11,532] Compiling tensorflow/compiler/mlir/tensorflow/ir/tf_ops_n_z.cc; 83s local ... (48 actions running)
[11,500 / 11,532] Compiling tensorflow/compiler/mlir/tensorflow/ir/tf_ops_n_z.cc; 84s local ... (31 actions running)
[11,510 / 11,532] Compiling tensorflow/compiler/mlir/tensorflow/ir/tf_ops_n_z.cc; 86s local ... (21 actions running)
[11,512 / 11,532] Compiling tensorflow/compiler/mlir/tensorflow/ir/tf_ops_n_z.cc; 87s local ... (19 actions running)
[11,513 / 11,532] Compiling tensorflow/compiler/mlir/tensorflow/ir/tf_ops_n_z.cc; 89s local ... (18 actions running)
[11,514 / 11,532] Compiling tensorflow/compiler/mlir/tensorflow/ir/tf_ops_n_z.cc; 91s local ... (17 actions running)
[11,516 / 11,532] Compiling tensorflow/compiler/mlir/tensorflow/ir/tf_ops_n_z.cc; 92s local ... (15 actions running)
[11,517 / 11,532] Compiling tensorflow/compiler/mlir/tensorflow/ir/tf_ops.cc; 94s local ... (14 actions running)
[11,520 / 11,532] Compiling tensorflow/compiler/mlir/tensorflow/ir/tf_ops.cc; 95s local ... (11 actions running)
[11,521 / 11,532] Compiling tensorflow/compiler/mlir/tensorflow/ir/tf_ops.cc; 97s local ... (10 actions running)
[11,522 / 11,532] Compiling tensorflow/compiler/mlir/tensorflow/ir/tf_ops.cc; 99s local ... (9 actions running)
[11,524 / 11,532] Compiling tensorflow/core/kernels/matmul_op_real.cc; 81s local ... (7 actions running)
[11,525 / 11,532] Compiling tensorflow/core/kernels/matmul_op_real.cc; 83s local ... (6 actions running)
[11,528 / 11,532] Compiling tensorflow/core/kernels/matmul_op_real.cc; 85s local ... (3 actions running)
[11,529 / 11,532] Compiling tensorflow/core/kernels/matmul_op_real.cc; 91s local ... (2 actions running)
[11,529 / 11,532] Compiling tensorflow/core/kernels/matmul_op_real.cc; 102s local ... (2 actions running)
[11,530 / 11,532] Compiling tensorflow/core/kernels/matmul_op_real.cc; 104s local
[11,530 / 11,532] Compiling tensorflow/core/kernels/matmul_op_real.cc; 114s local
[11,531 / 11,532] [Prepa] Linking tensorflow/java/libtensorflow_jni.so
[11,531 / 11,532] Linking tensorflow/java/libtensorflow_jni.so; 1s local
INFO: Elapsed time: 294.361s, Critical Path: 193.09s
INFO: 11532 processes: 1051 internal, 10481 local.
INFO: Build completed successfully, 11532 total actions
>>> Building framework library...
INFO: Options provided by the client:
  Inherited 'common' options: --isatty=0 --terminal_columns=80
INFO: Reading rc options for 'build' from /home/ubuntu/go_page_size/java/tf_0714/jdk17/tensorflow_jdk17/.bazelrc:
  Inherited 'common' options: --experimental_repo_remote_exec
INFO: Reading rc options for 'build' from /home/ubuntu/go_page_size/java/tf_0714/jdk17/tensorflow_jdk17/.bazelrc:
  'build' options: --define framework_shared_object=true --define tsl_protobuf_header_only=true --define=use_fast_cpp_protos=true --define=allow_oversize_protos=true --spawn_strategy=standalone -c opt --announce_rc --define=grpc_no_ares=true --noincompatible_remove_legacy_whole_archive --enable_platform_specific_config --define=with_xla_support=true --config=short_logs --config=v2 --define=no_aws_support=true --define=no_hdfs_support=true --experimental_cc_shared_library --experimental_link_static_libraries_once=false --incompatible_enforce_config_setting_visibility
INFO: Reading rc options for 'build' from /home/ubuntu/go_page_size/java/tf_0714/jdk17/tensorflow_jdk17/.tf_configure.bazelrc:
  'build' options: --action_env PYTHON_BIN_PATH=/usr/bin/python3 --action_env PYTHON_LIB_PATH=/usr/lib/python3/dist-packages --python_path=/usr/bin/python3
INFO: Reading rc options for 'build' from /home/ubuntu/go_page_size/java/tf_0714/jdk17/tensorflow_jdk17/.bazelrc:
  'build' options: --deleted_packages=tensorflow/compiler/mlir/tfrt,tensorflow/compiler/mlir/tfrt/benchmarks,tensorflow/compiler/mlir/tfrt/jit/python_binding,tensorflow/compiler/mlir/tfrt/jit/transforms,tensorflow/compiler/mlir/tfrt/python_tests,tensorflow/compiler/mlir/tfrt/tests,tensorflow/compiler/mlir/tfrt/tests/ir,tensorflow/compiler/mlir/tfrt/tests/analysis,tensorflow/compiler/mlir/tfrt/tests/jit,tensorflow/compiler/mlir/tfrt/tests/lhlo_to_tfrt,tensorflow/compiler/mlir/tfrt/tests/lhlo_to_jitrt,tensorflow/compiler/mlir/tfrt/tests/tf_to_corert,tensorflow/compiler/mlir/tfrt/tests/tf_to_tfrt_data,tensorflow/compiler/mlir/tfrt/tests/saved_model,tensorflow/compiler/mlir/tfrt/transforms/lhlo_gpu_to_tfrt_gpu,tensorflow/core/runtime_fallback,tensorflow/core/runtime_fallback/conversion,tensorflow/core/runtime_fallback/kernel,tensorflow/core/runtime_fallback/opdefs,tensorflow/core/runtime_fallback/runtime,tensorflow/core/runtime_fallback/util,tensorflow/core/tfrt/eager,tensorflow/core/tfrt/eager/backends/cpu,tensorflow/core/tfrt/eager/backends/gpu,tensorflow/core/tfrt/eager/core_runtime,tensorflow/core/tfrt/eager/cpp_tests/core_runtime,tensorflow/core/tfrt/gpu,tensorflow/core/tfrt/run_handler_thread_pool,tensorflow/core/tfrt/runtime,tensorflow/core/tfrt/saved_model,tensorflow/core/tfrt/graph_executor,tensorflow/core/tfrt/saved_model/tests,tensorflow/core/tfrt/tpu,tensorflow/core/tfrt/utils,tensorflow/core/tfrt/utils/debug
INFO: Found applicable config definition build:short_logs in file /home/ubuntu/go_page_size/java/tf_0714/jdk17/tensorflow_jdk17/.bazelrc: --output_filter=DONT_MATCH_ANYTHING
INFO: Found applicable config definition build:v2 in file /home/ubuntu/go_page_size/java/tf_0714/jdk17/tensorflow_jdk17/.bazelrc: --define=tf_api_version=2 --action_env=TF2_BEHAVIOR=1
INFO: Found applicable config definition build:opt in file /home/ubuntu/go_page_size/java/tf_0714/jdk17/tensorflow_jdk17/.tf_configure.bazelrc: --copt=-Wno-sign-compare --host_copt=-Wno-sign-compare
INFO: Found applicable config definition build:linux in file /home/ubuntu/go_page_size/java/tf_0714/jdk17/tensorflow_jdk17/.bazelrc: --define=build_with_onednn_v2=true --host_copt=-w --copt=-Wno-all --copt=-Wno-extra --copt=-Wno-deprecated --copt=-Wno-deprecated-declarations --copt=-Wno-ignored-attributes --copt=-Wno-array-bounds --copt=-Wunused-result --copt=-Werror=unused-result --copt=-Wswitch --copt=-Werror=switch --copt=-Wno-error=unused-but-set-variable --define=PREFIX=/usr --define=LIBDIR=$(PREFIX)/lib --define=INCLUDEDIR=$(PREFIX)/include --define=PROTOBUF_INCLUDE_PATH=$(PREFIX)/include --cxxopt=-std=c++17 --host_cxxopt=-std=c++17 --config=dynamic_kernels --experimental_guard_against_concurrent_changes
INFO: Found applicable config definition build:dynamic_kernels in file /home/ubuntu/go_page_size/java/tf_0714/jdk17/tensorflow_jdk17/.bazelrc: --define=dynamic_loaded_kernels=true --copt=-DAUTOLOAD_DYNAMIC_KERNELS
Loading: 
Loading: 
Loading: 0 packages loaded
INFO: Build option --java_runtime_version has changed, discarding analysis cache.
Analyzing: target //tensorflow:libtensorflow_framework.so (0 packages loaded)
Analyzing: target //tensorflow:libtensorflow_framework.so (0 packages loaded, 0 targets configured)
INFO: Analyzed target //tensorflow:libtensorflow_framework.so (0 packages loaded, 8735 targets configured).
INFO: Found 1 target...
[0 / 5] [Prepa] BazelWorkspaceStatusAction stable-status.txt
Target //tensorflow:libtensorflow_framework.so up-to-date:
  bazel-bin/tensorflow/libtensorflow_framework.so
INFO: Elapsed time: 3.324s, Critical Path: 0.13s
INFO: 2 processes: 1 internal, 1 local.
INFO: Build completed successfully, 2 total actions
>>> Copying built artifacts...
>>> Creating complete JAR with embedded native libraries for JDK17...
>>> Creating JDK17 test file...
>>> Creating JDK17 runner script...
>>> Verifying JDK17 build...
>>> JDK17 build completed successfully!

Built artifacts for JDK17:
-rw-rw-r-- 1 ubuntu ubuntu  83M Jul 15 04:48 libtensorflow-arm64-jdk17.jar
-r-xr-xr-x 1 ubuntu ubuntu  40M Jul 15 04:48 libtensorflow_framework-jdk17.so
-r-xr-xr-x 1 ubuntu ubuntu 214M Jul 15 04:48 libtensorflow_jni-jdk17.so

File checksums:
d93c8339d17f44836cbd68d9334b5ff76e4ee795e240f5ba5e607cd517f2c242  libtensorflow-arm64-jdk17.jar
863f8e187fd6902ac1cd5e5a08ce2a844a4b526c5e83c6d213f532da9373be34  libtensorflow_jni-jdk17.so
0e1b4fe6917b201aa8ad9832b5245028fc370f70f41c686f559bd053d4b2ffe8  libtensorflow_framework-jdk17.so

>>> Testing the JDK17 build...
Java class file TestTensorFlow-jdk17.class not found. Attempting to compile...
Compiling TestTensorFlow-jdk17.java with JDK17...
TestTensorFlow-jdk17.java:6: error: class TestTensorFlowJdk17 is public, should be declared in a file named TestTensorFlowJdk17.java
public class TestTensorFlowJdk17 {
       ^
1 error
Compilation failed!
>>> ⚠️  JDK17 build test failed, but libraries were built successfully

Usage for JDK17:
  java -cp .:libtensorflow-arm64-jdk17.jar YourTensorFlowApp
  OR use: ./run_tensorflow_jdk17.sh YourJavaClass

The libtensorflow-arm64-jdk17.jar contains all necessary native libraries for JDK17.
>>> TensorFlow JNI compilation for JDK17 completed successfully!
